---
title: 快速开始 - CODING 帮助中心
pageTitle: 快速开始
pagePrevTitle: 功能介绍
pagePrev: compass/workflow/intro.html
pageNextTitle: 耗时统计
pageNext: compass/workflow/time-measure.html
sitemap: false
---

以下内容将以需求工作流为例说明如何定义工作流并监测工作流数据。

### [定义工作流步骤](#step)

Compass 工作流由一系列研发活动的步骤组成，而步骤则是映射现实研发活动的最小单元。系统内置了大部分常用步骤。如有需要，你也可增加自定义步骤，以更符合实际的研发流程。

1.  在「Compass」->「工作流」中，选择「步骤」页签进入步骤配置页面。
2.  点击右上角「新建步骤」，然后指定相关信息。

-   **步骤名称**：实际研发活动的步骤名称，也是显示在工作流中的步骤名称。 
-   **开始事件**：触发该步骤开始的事件。从系统内置的事件中选择即可，暂不支持自定义。
例如，「计划」步骤的开始事件为「事项被纳入迭代」；当在项目协同中为事项指定所属迭代，该事项工作流中的「计划」步骤即被触发，开始运行。
-   **色彩标签**：工作流步骤的标记。


![](https://help-assets.codehub.cn/enterprise/20211011151423.png)
3.  点击确定按钮完成自定义步骤。

### [定义工作流](#workflow)

定义好工作流的步骤之后，你便可以定义工作流。

1.  在「Compass」->「工作流」中，选择「流程」页签进入工作流管理页面。
2.  点击右上角「新建工作流」，指定事项类型（本文以「需求」为例），然后点击「下一步」。

> 你也可以选择「使用示例内容初始化」快速使用示例工作流。

![](https://help-assets.codehub.cn/enterprise/20211101164311.png)

3.  进入工作流配置画板，从左侧步骤列表拖拽对应步骤至右侧画板，将步骤连线。

![](https://help-assets.codehub.cn/enterprise/20211101165102.png)

如需删除工作流步骤，鼠标选中步骤卡片，点击删除按钮或键盘的 Backspace 或 Del 按键即可快速删除；如需删除连线，点选连线后点击移除按钮。

![](https://help-assets.codehub.cn/enterprise/20211101164940.png)

4.  你可以点击任一步骤卡片右上角的设置按钮，根据指定情况给指定该步骤耗时标签。步骤默认的耗时标签均为「活跃」。

>耗时标签会影响耗时统计数据，详情请参考[耗时统计](/docs/compass/workflow/time-measure.html)。

![](https://help-assets.codehub.cn/enterprise/20211102160608.png)

5.  定义好工作流后，可以点击右上角的对齐按钮，让工作流自动对齐，变得规整美观。  

![](https://help-assets.codehub.cn/enterprise/20211101165200.png)

6.  点击右上角「保存」按钮，工作流立即生效，并显示在工作流列表。接下来你便可以对需求的研发过程进行监测。  

![](https://help-assets.codehub.cn/enterprise/20211011154121.png)


### [触发工作流运行](#trigger)

参考上述内容定义需求工作流之后，在项目中创建一个需求，即会生成该需求的工作流运行记录。
若针对该需求执行的动作（如归入迭代、拆分需求、变更状态为「测试中」、提交代码等）与工作流中任一步骤的开始事件一致，则会触发该需求工作流的步骤流转。

例如，在项目协同中创建一个“优化用户体验”需求。

![](https://help-assets.codehub.cn/enterprise/20211015153917.png)

“优化用户体验”需求创建成功之后，在「Compass」->「工作流」->「记录」中自动生成了对应的工作流运行记录，且需求创建这一动作触发了工作流中的「开始」步骤。

![](https://help-assets.codehub.cn/enterprise/20211101165701.png)


将“优化用户体验”需求归入“test”迭代之后，需求工作流的「计划」步骤被触发，该需求工作流从「开始」流转到「计划」步骤。

![](https://help-assets.codehub.cn/enterprise/20211101170158.png)

该需求工作流的运行记录中也显示「开始」步骤已完成，「计划」步骤被触发。

![](https://help-assets.codehub.cn/enterprise/20211015155219.png)

### [查看工作流运行记录](#record)

需求工作流启动运行之后，可在「Compass」->「工作流」->「记录」中查看所有需求的工作流运行记录。

#### [筛选运行记录](#list)

工作流运行记录列表支持按照工作流类型（本例为需求工作流）、步骤、工作流状态、违规状态以及触发时间（即工作流中首个步骤被触发时的时间）筛选特定需求的流转记录。你也可以通过需求 ID 与标题直接搜索对应事项。

![](https://help-assets.codehub.cn/enterprise/20211101171426.png)

#### [查看运行记录概览](#overview)

通过运行记录列表，你可以查看任一需求的工作流转概览。

![](https://help-assets.codehub.cn/enterprise/20211101171605.png)

-   **违规标签**： 说明该需求没有按照定义的工作流进行推进。步骤被提前开始/步骤被跳过的工作流即会被判定为违规。比如，若工作流定义了「编码」步骤的前一步为「任务分解」，当需求没有被分解但已有关联的代码提交记录时，该需求工作流会被判定违规。

-   **状态为已中止**：标记该需求的工作流运行记录停止监测。（已中止的工作流记录不可恢复运行。）
-   **需求名称下的步骤标签**：代表该需求工作流中正在运行的步骤。

-   **耗时信息**：该需求的耗时信息。统计方法请参考[运行记录总耗时与活跃比](/docs/compass/workflow/time-measure.html#total-duration)。

#### [查看运行记录详情](#details)

在运行记录列表中，点击任一需求的名称或「查看详情」按钮即可进入其工作流运行记录详情页面。

![](https://help-assets.codehub.cn/enterprise/20211101172923.png)

工作流详情页面包括以下内容：

-   **违规或中止信息**：若该工作流已被中止或存在违规情况，将显示具体的中止或违规信息。

-   **关联资源**：需求流转过程中产生的关联资源，如子工作项，迭代，代码提交记录等等。
-   **参与者**：需求从开始到结束整个过程中的所有参与成员。
-   **详情**：工作流中所有步骤的运行状态。点击任一步骤卡片可查看该步骤产生的活动记录。

点击右上角的「中止工作流」按钮之后，该需求工作流将不再接收事件驱动，需求停止监测。

![](https://help-assets.codehub.cn/enterprise/20211101175118.png)

#### [查看运行记录耗时统计](#time-spent)

在任一需求的工作流运行记录详情页面，你可以开启「显示耗时分析」开关，以查看该需求在工作流各步骤的耗时。统计方法请参考[运行记录各步骤耗时](/docs/compass/workflow/time-measure.html#step-duration)。

![](https://help-assets.codehub.cn/enterprise/20211102101937.png)


### [查看工作流统计](#statistics)

在「Compass」->「工作流」->「统计」中，你可以查看特定事项类型的工作流（本文以需求工作流为例）中所有步骤的耗时中位数以及平均时间。通过耗时数据，管理者可以快速识别工作流中推进缓慢或存在阻塞的环节，展开调研，然后持续改进团队工作流程。

![](https://help-assets.codehub.cn/enterprise/20211102101103.png)



==== 2021/10/11 ====
