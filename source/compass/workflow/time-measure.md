---
title: 耗时统计 - CODING 帮助中心
pageTitle: 耗时统计
pagePrevTitle: 快速开始
pagePrev: compass/workflow/start.html
pageNextTitle: 规范
pageNext: compass/policy.html
sitemap: false
---

Compass 工作流以多样化的维度和视图向管理者提供事项流转过程中的耗时信息、以及整体事项工作流的平均耗时。


### [耗时标签](duration-tag)

为了更真实地统计研发活动的耗时信息，项目管理员可以为工作流中各个步骤指定对应的耗时标签。

目前，系统提供以下三种耗时标签：

-   **活跃**：该步骤处于活跃状态，其耗时会被统计。
-   **等待**：该步骤需要等待，无法主动执行操作，其耗时会被统计。
-   **不计**：「开始」等意义不大的步骤可采用「不计」标签。该步骤的耗时会被统计，但不影响[运行记录活跃比](#total-duration)。



### [耗时统计方法](calculate-method)

#### [运行记录各步骤耗时](#step-duration)

在任一事项（以需求为例）的工作流运行记录的详情页面，你可以通过「显示耗时分析」功能查看每一步骤的耗时。

![](https://help-assets.codehub.cn/enterprise/20211102140310.png)

以下列表说明了工作流记录中会出现的步骤状态以及对应的耗时统计方法。

**耗时统计的最小单位为 0.5 天，少于 0.5 天的实际时长显示为 0 天。**

|  步骤状态   | 步骤描述  | 耗时统计方法| 示例说明|
|  ----  | ----  | ----  | ----  |
| 未开始  | 该步骤的开始事件并没有被触发 | 默认耗时为 **0 天**| 以上图为例，该需求没有任何与之关联的代码提交记录，所以「编码」步骤尚未开始。|
| 进行中 | 该步骤的开始事件被触发，且下一步骤未开始 |耗时 = 当前时间 - 该步骤开始事件被触发的时间 | 以上图为例，该需求于 2021-11-01 17:13:00 拆分了子工作项，没有任何关联的代码提交记录，所以「任务分解」步骤进行中，耗时为 2021-11-02 14:10:00 (当前时间）与 2021-11-01 17:13:00 之差，约为 **0.8 天**。|
| 已完成 | 当前步骤原处于进行中，在下一步骤被触发开始时转为「已完成」。|耗时 = 下一步骤开始事件被触发的时间 - 该步骤开始事件被触发的时间 |以上图为例，该需求创建于 2021-11-01 17:07:18，而被纳入迭代的时间为 2021-11-01 17:33:51，两个动作之间的时间差小于 0.5 天，故显示耗时为 **0 天**。|


#### [运行记录总耗时与活跃比](#total-duration)

在「Compass」->「工作流」->「记录」页面中，会显示所有工作流运行记录（即对应事项）的总耗时以及活跃比。

![](https://help-assets.codehub.cn/enterprise/20211102143623.png)

**总耗时**

-   若该工作流运行记录已完成（即工作流中最后一个步骤被触发开始）：**耗时 = 最后一个步骤被触发的时间 - 首个步骤被触发的时间**

-   若该工作流运行记录尚未完成（即工作流中最后一个步骤尚未被触发开始）：**耗时 = 当前时间 - 首个步骤被触发的时间**

**活跃比**

只有「已完成」的工作流才会显示活跃比数据。活跃比反映了事项推进的活跃程度，以识别可能会出现的缓慢或阻塞环节。活跃比数值越大，则代表事项推进越顺利。

耗时活跃比的计算方法为：**活跃比 = 活跃步骤总耗时/(活跃步骤总耗时 + 等待步骤总耗时）**

#### [工作流各步骤平均耗时](#average-duration)

在「Compass」->「工作流」->「统计」页面展示了特定事项类型的工作流（本文以需求工作流为例）中所有步骤的耗时中位数以及平均时间。

![](https://help-assets.codehub.cn/enterprise/20211102140124.png)

以任一步骤（如「开始」步骤）为例：

*   **中位数时间**：该项目中所有需求从被创建到纳入迭代所用时长的中位数，即所有需求工作流运行记录的「开始」步骤耗时时长的中位数。

*   **平均时间**：该项目中所有需求从被创建到纳入迭代所用时长的平均数，即所有需求工作流运行记录的「开始」步骤耗时时长的平均数。


### [耗时显示样式](#time-label-config)

为了更直观地发现工作流中进展缓慢或存在阻塞的环节，项目管理员可在「项目设置」->「Compass」中设置不同耗时及活跃比区间的显示样式，增加统计数据的可视性。

#### [耗时活跃比](#active-ratio)

目前，系统提供三种活跃比区间配置，以指定活跃比的显示颜色。

![](https://help-assets.codehub.cn/enterprise/20211102151649.png)

#### [步骤耗时标记](#duration-flag)

步骤耗时标记决定了运行记录详情页面中各步骤的耗时时长以何种颜色展示。

![](https://help-assets.codehub.cn/enterprise/20211102151804.png)

==== 2021/10/11 ====
